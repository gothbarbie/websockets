<section>

    <form id="message-form">
        <input id="message" type="text">
        <button type="submit">Send</button>
    </form>

</section>


<script src="/socket.io/socket.io.js"></script>
<script>
    const socket = io('http://localhost:8000');
    const socket2 = io('http://localhost:8000/admin')

    socket.on('messageFromServer', dataFromServer => {
        console.log(dataFromServer)
        socket.emit('dataToServer', { data: 'Data from the client' })
    });

    socket.on('joined', msg => {
        console.log(msg)
    })
    
    socket2.on('messageFromServer', dataFromServer => {
        console.log(dataFromServer)
        socket.emit('dataToServer', { data: 'Data from the client' })
    });


    document.querySelector('#message-form').addEventListener('submit', event => {
        event.preventDefault()
        
        const messageEl  = document.querySelector('#message')

        socket.emit('newMessageToServer', { text: messageEl.value })
        messageEl.value = ''
    });

    socket.on('messageToClients', msg => {
        document.querySelector('#messages').innerHTML += `<li>${msg.text}</li>`
    });
</script>